
<div ui-sortable id="score" class="row" ng-model="score.song">
	<div class="song" ng-repeat="measure in score.song">
		<!-- btn-group = beats in measure and delete button -->

    <button class="btn btn-danger btn-xs del-btn"
            ng-click="score.deleteMeasure($index)">X</button>

		<div class="btn-group measure" dropdown ng-repeat="beat in measure">
      <button droppable
      				type="button" 
		      		class="btn btn-default dropdown-toggle"
              ng-class="{lastBtn:$last}"
		      		ng-click="score.makeSubs(beat.root)">
      				{{beat.root}} {{beat.type}}
			</button>

			<!-- Substitution dropdown menu -->
      <ul class="dropdown-menu" role="menu">
        <li ng-repeat="sub in score.substitutions">
        	<a href="#" 
        		 ng-click="score.switchChords(sub.root, sub.type, $parent.$index, $parent.$parent.$index)"
        		 >{{sub.root}} {{sub.type}}</a>
        </li>
      </ul>
    </div>


  </div>
</div>
